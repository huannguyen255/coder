<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://code.jquery.com/jquery-3.6.4.min.js"
      integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
      crossorigin="anonymous"
    ></script>
    <title>Document</title>
    <style>
      .nhapSoLieu,
      .ketqua {
        display: flex;
        flex-direction: column;
        width: 50%;
      }
      .input__cal {
        display: flex;
        padding: 10px;
        background-color: #fff;
        box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);
        flex-direction: row;
        align-items: end;
        border-radius: 5px;
      }
      .nhapSoLieu input {
        border: none !important;
        text-align: end;
      }
      .unit {
        text-align: end;
      }

      .OutPutTotal {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .OutPutText {
        font-size: 16px;
        font-weight: 600;
        line-height: 2;
      }
    </style>
  </head>
  <body>
    <div class="nhapSoLieu">
      <label for="slNhanVien"> Tổng số lượng nhân viên</label>
      <div class="input__cal">
        <input
          type="text"
          id="slNhanVien"
          value="30"
          oninput="formatNumber(this.id)"
        />
        <span class="unit">người</span>
      </div>
      <label for="luongNhanVien">Lương trung bình/nhân viên</label>
      <div class="input__cal">
        <input
          type="text"
          id="luongNhanVien"
          placeholder="Luong trung binh moi nhan vien"
          value="12,000,000"
          oninput="formatNumber(this.id)"
        />
        <span class="unit">đ</span>
      </div>

      <label for="slNhanSu"> Số lượng nhân viên phòng nhân sự</label>
      <div class="input__cal">
        <input
          type="text"
          id="slNhanSu"
          placeholder="So luong nhan vien phong nhan su"
          value="2"
          oninput="formatNumber(this.id)"
        />
        <span class="unit">người</span>
      </div>

      <label for="luongNhansu"> Lương trung bình/nhân viên phòng nhân sự</label>
      <div class="input__cal">
        <input
          type="text"
          id="luongNhanSu"
          placeholder="Luong trung binh phong nhan su"
          value="15,000,000"
          oninput="formatNumber(this.id)"
        />
        <span class="unit">đ</span>
      </div>

      <label for="luongNhansu"> Chi phí phần mềm nhân sự</label>
      <div class="input__cal">
        <input
          type="text"
          id="cost"
          placeholder="Luong trung binh phong nhan su"
          value="25,000"
          oninput="formatNumber(this.id)"
        />
        <span class="unit">người/tháng</span>
      </div>
      <button onclick="calculate()">Calculate</button>
    </div>

    <div class="ketqua">
      <span class="OutPutTotal">
        <span class="OutPutText">Tiết kiệm từ Tự động Quy trình Nhân sự</span>

        <span class="outPutNumber" id="saveMQuytrinh"> </span>
      </span>

      <span class="OutPutTotal">
        <span class="OutPutText">Tiết kiệm từ Quản lý Công, Ca, Phép</span>
        <span class="outPutNumber" id="saveMCC"></span>
      </span>

      <span class="OutPutTotal">
        <span class="OutPutText">Tổng tiết kiệm</span>
        <span class="outPutNumber" id="saveMTotal"></span>
      </span>

      <span class="OutPutTotal">
        <span class="OutPutText"
          >Tổng chi phí phần mềm Chấm công, Tính lương</span
        >
        <span class="outPutNumber" id="totalCost"></span>
      </span>

      <span class="OutPutTotal">
        <span class="OutPutText">ROI đầu tư phần mềm</span>
        <span class="outPutNumber" id="roiInvest"></span>
      </span>

      <span class="OutPutTotal">
        <span class="OutPutText">Chi phí phần mềm tối ưu (/người/tháng)</span>
        <span class="outPutNumber" id="OptCost"></span>
      </span>
      <span class="OutPutTotal OutPutText" id="toiUU"></span>
      <button id="demo_btn" style="display: none">Demo phần mềm nhân sự</button>
    </div>
    <span
      >Trung bình 1 nhân viên nghỉ phép không thông báo trung bình khoảng 3 ngày
      mỗi năm. Điều này có vẻ không nghiêm trọng, nhưng sự vắng mặt không báo
      cáo ảnh hưởng đến năng suất của nhân viên. <br />
      Với mức lương trung bình của nhân viên tại Cty Bạn là
      <span id="rate" style="font-weight: 600">57,692</span> VNĐ mỗi giờ, chi
      phí của ba ngày nghỉ phép không báo cáo là
      <span id="totalRate" style="font-weight: 600">1,384,615</span> VNĐ mỗi
      năm, cho mỗi nhân viên. <br />
      Phần mềm nhân sự có thể giúp loại bỏ những vấn đề này bằng cách đơn giản
      hoá yêu cầu, tính toán, phê duyệt và theo dõi phép nghỉ phép. Việc đơn
      giản hóa quy trình này cũng khuyến khích nhân viên thông báo trước về nhu
      cầu nghỉ phép của họ, chủ động hơn trong công việc</span
    >
    <span style="color: #0b8870; font-weight: 800"
      >ROI:
      <span id="totalRate" style="font-weight: 600">1.384.615</span> đ/nhân
      viên/năm</span
    >
  </body>

  <script>
    function calculate() {
      let slNhanVien = parseFloat(
        document.getElementById("slNhanVien").value.replace(/,/g, "")
      );
      let luongNhanVien = parseFloat(
        document.getElementById("luongNhanVien").value.replace(/,/g, "")
      );
      let slNhanSu = parseFloat(
        document.getElementById("slNhanSu").value.replace(/,/g, "")
      );
      let luongNhanSu = parseFloat(
        document.getElementById("luongNhanSu").value.replace(/,/g, "")
      );
      let cost = parseFloat(
        document.getElementById("cost").value.replace(/,/g, "")
      );

      let saveMQuytrinh = (6.4 * slNhanSu * 12 * luongNhanSu) / 26 / 8;
      let saveMCC = (luongNhanVien / 26) * 3 * slNhanVien;
      let saveMTotal = saveMQuytrinh + saveMCC;
      let totalCost = cost * slNhanVien * 12;
      let roiInvest = saveMTotal / totalCost;
      let OptCost = saveMTotal / 5 / slNhanVien / 12;
      let roiText = roiInvest.toLocaleString("en-US", {
        style: "percent",
        maximumFractionDigits: 0,
      });
      let OptCostText = OptCost.toLocaleString("en-US", {
        maximumFractionDigits: 0,
      });
      let rate = luongNhanVien / 26 / 8;
      let totalRate = rate * 3 * 8;

      var toiUu = "";
      if (roiInvest >= 5) {
        toiUu = `Chi phí đầu tư tối ưu <span style="color:red"> (ROI = ${roiText} > 500%).</span> Bạn nên đầu tư phần mềm này`;
      } else {
        toiUu = `Phần mềm có giá chưa tối ưu. Bạn nên tìm phần mềm khác có giá < ${OptCostText}/nhân sự/tháng`;
      }

      document.getElementById("toiUU").innerHTML = toiUu;
      document.getElementById("saveMQuytrinh").innerHTML =
        saveMQuytrinh.toLocaleString("en-US", { maximumFractionDigits: 0 });
      document.getElementById("saveMCC").innerHTML = saveMCC.toLocaleString(
        "en-US",
        { maximumFractionDigits: 0 }
      );
      document.getElementById("saveMTotal").innerHTML =
        saveMTotal.toLocaleString("en-US", { maximumFractionDigits: 0 });
      document.getElementById("totalCost").innerHTML = totalCost.toLocaleString(
        "en-US",
        { maximumFractionDigits: 0 }
      );
      document.getElementById("roiInvest").innerHTML = roiInvest.toLocaleString(
        "en-US",
        {
          style: "percent",
          maximumFractionDigits: 0,
        }
      );
      document.getElementById("OptCost").innerHTML = OptCost.toLocaleString(
        "en-US",
        { maximumFractionDigits: 0 }
      );
      document.getElementById("demo_btn").style.display = "block";
      document.getElementById("rate").innerHTML = rate.toLocaleString("en-US", {
        maximumFractionDigits: 0,
      });
      document.getElementById("totalRate").innerText = totalRate.toLocaleString(
        "en-US",
        { maximumFractionDigits: 0 }
      );
    }

    function formatNumber(clicked_id) {
      document.getElementById(clicked_id).onkeyup = function () {
        if (this.value) {
          this.value = parseFloat(this.value.replace(/,/g, ""))
            .toString()
            .replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        } else {
        }
      };
    }
  </script>
</html>

<!-- 
<script>
  const cardNumber = document.getElementById("cardNumber");

cardNumber.oninput = (e) => {
  e.target.value = patternMatch({
      input: e.target.value,
      template: "xxxx xxxx xxxx xxxx",
   });
};

function patternMatch({
  input,
  template
}) {
  try {
    

    let j = 0;
    let plaintext = "";
    let countj = 0;
    while (j < template.length) {
      // code block to be
      
      if (countj > input.length - 1) {
        template = template.substring(0, j);
        break;
      }

      if (template[j] == input[j]) {
        j++;
        countj++;
        continue;
      }

      if (template[j] == "x") {
        template = template.substring(0, j) + input[countj] + template.substring(j + 1);
        plaintext = plaintext + input[countj];
        countj++;
      }
      j++;
    }

    return template
 
  } catch {
    return ""
  }
}
</script> -->
