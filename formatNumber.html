
<script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
<form id="form" method="post" action="">
	<p>
	  <label for="slNhanVien"> Tổng số lượng nhân viên</label>
		<div class="input__cal">
			<input id="slNhanVien" type="text" maxlength="15"/>
            <span class="currency">người</span>
		</div>
	</p>
    <p>
		  <label for="luongNhanVien">Lương trung bình/nhân viên</label>
		<div class="input__cal">

			<input id="luongNhanVien" type="text" maxlength="15" />
            <span class="currency">đ</span>
		</div>
	</p>
    <p>
		 <label for="slNhanSu"> Số lượng nhân viên phòng nhân sự</label>
		<div class="input__cal">

			<input id="slNhanSu" type="text" maxlength="15" />
            <span class="currency">người</span>
		</div>
	</p>
    <p>
        <label for="luongNhansu">
          Lương trung bình/nhân viên phòng nhân sự</label
        >
		<div class="input__cal">

			<input id="luongNhansu" type="text" maxlength="15" />
            <span class="currency">đ</span>
		</div>
	</p>
    <button onclick="calculate()">Calculate</button>
</div>

<div class="ketqua">
  <span
    >Tiết kiệm từ Tự động Quy trình Nhân sự
    <span id="saveMQuytrinh"> </span>
  </span>

  <span>
    Tiết kiệm từ Quản lý Công, Ca, Phép
    <span id="saveMCC"></span>
  </span>

  <span>
    Tổng tiết kiệm
    <span id="saveMTotal"></span>
  </span>
</div>
</form>

<script>
    (function($, undefined) {

"use strict";

// When ready.
$(function() {
    
    var $form = $( "#form" );
    var $input = $form.find( "input" );

    $input.on( "keyup", function( event ) {
        
        
        // When user select text in the document, also abort.
        var selection = window.getSelection().toString();
        if ( selection !== '' ) {
            return;
        }
        
        // When the arrow keys are pressed, abort.
        if ( $.inArray( event.keyCode, [38,40,37,39] ) !== -1 ) {
            return;
        }
        
        
        var $this = $( this );
        
        // Get the value.
        var input = $this.val();
        
        var input = input.replace(/[\D\s\._\-]+/g, "");
                input = input ? parseInt( input, 10 ) : 0;

                $this.val( function() {
                    return ( input === 0 ) ? "" : input.toLocaleString( 'vi-VN' );
                } );
    } );
    
    /**
     * ==================================
     * When Form Submitted
     * ==================================
     */
    $form.on( "submit", function( event ) {
        
        var $this = $( this );
        var arr = $this.serializeArray();
    
        for (var i = 0; i < arr.length; i++) {
                arr[i].value = arr[i].value.replace(/[($)\s\._\-]+/g, ''); // Sanitize the values.
        };
        
        console.log( arr );
        
        event.preventDefault();
    });
    
});
})(jQuery);


function calculate() {
      let slNhanVien = $("#slNhanVien").val();
      let luongNhanVien = $("#slNhanVien").val();
      let slNhanSu = $("#slNhanVien").val();
      let luongNhanSu = $("#slNhanVien").val();
      let saveMQuytrinh = (6.4 * slNhanSu * 12 * luongNhanSu) / 26 / 8;
      let saveMCC = luongNhanVien * 26 * 3 * slNhanVien;
      let saveMTotal = saveMQuytrinh + saveMCC;
      document.getElementById("saveMQuytrinh").innerHTML = saveMQuytrinh.toLocaleString('vi-VN')
      document.getElementById("saveMCC").innerHTML = (saveMCC.toLocaleString('vi-VN'))
      document.getElementById("saveMTotal").innerHTML = saveMTotal.toLocaleString('vi-VN')
    }
</script>
